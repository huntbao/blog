---
title: 基于网易七鱼Agent的知识沉淀方案
category: knowledge
tag:  知识沉淀, 智能客服, Agent
permalink: knowledge-solution-with-qiyu-agent
---

## 问题背景和原理

Rich Sutton 在 2019 年 3 月 13 日发表的文章 [The Bitter Lesson](http://www.incompleteideas.net/IncIdeas/BitterLesson.html) 中，总结了 AI 研究七十年来的一个重要教训：通用的计算方法在长远中远比依赖人类知识的方法更为有效。这一点得益于摩尔定律的效应，即计算成本持续以指数级下降。大多数 AI 研究都假设可用的计算资源是恒定的，因此研究者倾向于通过编码人类知识来提高性能。然而，随着时间的推移，可用的计算资源会大幅增加，这使得通过搜索和学习的通用方法变得更加重要。

![tbl](/public/images/knowledge-qiyu-agent/tbl.png)

任何组织都做过知识沉淀的工作：编写文档、创建知识库、通过培训和分享会传递经验等，但这些工作往往面临着知识更新不及时、难以覆盖所有场景、员工使用意愿低等问题，这证明了 Rich Sutton 的观点：依赖人类先验知识的方法在实际应用中往往效果不佳。

本文介绍了一种基于网易七鱼Agent的知识沉淀方案，旨在通过自动化和智能化手段提升知识管理的效率和效果。

首先，介绍一下[网易云商](https://b.163.com)是如何服务客户的。核心流程大致如下：我们的服务通道是企微群，客户在使用过程中遇到问题会在群里提问，我们的客服人员会第一时间响应，如果客服人员无法解决问题，则会创建一个工单给技术支持团队。技术支持团队会在后台的工单系统中处理这些问题，并将解决方案反馈给客户。如果技术支持也无法解决问题，则会创建一个反馈工单给研发团队，研发团队会在反馈单系统中处理这些问题，并将解决方案反馈给技术支持团队，再由技术支持回复给客户。还有一个是值班机制，客服、技术支持和研发团队都会安排值班人员，并且每天轮换。

![ys ai agent](/public/images/knowledge-qiyu-agent/ysaiagent.png)

这是一种很经典的组织架构，但我们稍作分析就不难发现这种组织架构无法解决一个核心问题：无法避免重复问题。重复工作价值低下，是组织低效的根源之一。

比如说今天客户 a 来咨询了一个问题，是客服 x、技术支持 y、研发 z 三个人协同解决的，那这个问题的答案就只有这三个人知道，其他人并不知道。明天客户 b 又来咨询相同的问题，由于每天值班的人员是轮换的，这次是客服 m、技术支持 n、研发 p 三个人协同解决的。由于 m、n、p 三个人并不知道 a 的问题和解决方案，所以他们只能重新从头开始解决这个问题，对于组织来说浪费大量人力资源。

随着组织规模的扩大，这个问题会变得越来越严重，重复问题会占据大量的工作时间，导致整体效率低下。很多宝贵的知识都被分散在不同的员工头脑中，组织规模越大，知识就越分散，难以形成有效的知识积累和共享。

看到这里，有人可能会说，那建立一个知识库，把所有问题和解决方案都记录下来，供大家查询使用。这个思路是对的，但实际操作中会遇到很多挑战：

1. 知识库的维护成本高：需要专人负责整理、更新和审核知识库内容，容易出现信息过时或错误的问题。
2. 员工使用意愿低：很多员工习惯于直接询问同事，而不是主动查阅知识库，因为查阅过程需要花费时间，导致知识库利用率低。
3. 覆盖面有限：知识库难以涵盖所有可能的问题和场景，员工在遇到新问题时仍然需要从头开始解决。

几乎所有依赖人工维护的知识库都失败了，最终的宿命就是无人问津，沦为鸡肋，很多组织到了这里就都放弃了挣扎。

在大模型出现之前，确实没有一个好的解决方案。但现在是大模型时代，一切都变得不同了。

我们再来分析下网易云商服务客户的流程，整个服务过程其实可以简化成“客户和客服”的对话过程（这里我们把技术支持和研发都视为客服）。客户提出问题，客服回复问题，如果客服的回复无法让客户满意，客户会继续追问，如此反复，直到客户停止提问为止。客服的职业要求，确保了客户的问题都会得到响应。

注意，我并没有说客户的问题最终都会得到解决，因为很显然，有些问题是暂时无法解决的，比如不在产品规划中的需求，或者技术上无法实现的功能等。但无论如何，客户的问题都会得到响应，这一点非常重要。

客户的问题都会得到响应，这就意味着客户的问题都有结论，不然客户不会停止提问。

那为什么不断对话讨论问题就一定能得到结论呢？其理论支撑可追溯至 Robert Aumann 于 1976 年提出的“同意分歧定理”（Agreeing to Disagree Theorem）。该定理以数学模型证明，在特定条件下，理性且真诚的个体无法维持分歧，最终必然达成共识。换言之，若争论双方均理性追求真理，则争论的结果必将趋于一致。

![robertaumann](/public/images/knowledge-qiyu-agent/robertaumann.jpg)

基于该理论，客户与客服均符合“理性且真诚”的前提，我们可以推断出，在客户与客服的持续对话中，双方会逐步缩小分歧，最终达成双方都能接受的结论。这个结论可能是问题的解决方案，也可能是问题无法解决的原因，但无论如何，都会有一个明确的结果。

客户想要的肯定是问题的解决方案，那为什么说只要有结论就可以了呢？假设有一个问题，今天有客户来咨询后，结论是不支持。明天又有其他客户来咨询相同的问题，结论还是不支持。等到这个问题被咨询得足够多次数后，必然会引起我们产品团队的注意，产品团队会评估这个问题的价值，很有可能就会将其纳入产品规划中，最终实现对该问题的支持。这样一来，客户的问题就得到了最终解决。

现在我们只要从会话记录中分析并提取客户问题的结论作为知识点沉淀下来，就能有效地构建一个能自动更新的动态知识库，彻底解决传统知识库面临的维护成本高、使用意愿低和覆盖面有限等问题。

原理部分就介绍到这里，下面我们来看下如何基于网易七鱼Agent来实现这个方案。

## 方案设计与实现

如果工程上的实践有靠谱的理论支撑，那么就能达到事半功倍的效果。

有了第一部分的原理作为支撑，我们可以设计出一个基于网易七鱼Agent的知识沉淀方案，具体实现过程并不复杂，就不展开细说了，介绍下关键步骤：

首先是数据获取、处理和分析：

1. 使用网易七鱼的开放API接口，按照企业维度获取客户与客服的会话记录
2. 因为会话记录中有大量图片，实践中分析发现如果不识别图片内容，效果会差很多，所以需要调用OCR接口把图片内容也提取出来
3. 调用大模型接口，对会话记录进行分析，提取 FAQ 知识点，包括问题、相似问法、答案、问题产生时间等信息

然后是利用七鱼Agent能力：

1. 调用网易云商知识库的开放 API 接口，把提取出来的 FAQ 知识点批量导入到知识库中
2. 创建七鱼Agent，并配置上述知识库作为 Agent 的知识来源，Agent 会使用 RAG 技术来增强问答能力

数据获取、处理、分析以及知识库导入的工作可以每天定时执行，确保知识库内容的及时更新。

现在就可以调用七鱼Agent来建设智能问答系统了，七鱼Agent和七鱼客服功能也可以无缝集成。

在网易云商内部，我们在工作时用的公司内部的网易泡泡 IM 工具，所以我们把上面的问答功能集成到了网易泡泡的机器人功能中，在使用时只需打开泡泡，选择对应的机器人，就能直接对话，查询知识库中的内容。

以上方案在网易云商内部已经完全落地，已经完全自动化运行，无需人工干预，并取得了非常好的落地效果，可以分享下部分数据：

- 知识库规模：截至目前，已经沉淀了超过 6.5万+ 条 FAQ 知识点
- 问题解决率：能稳定达到 70% 以上
- 咨询量：一直在稳步增长

注意，是问题解决率，不是知识点的正确率，也就是用户提问后，机器人的回答能否解决他的问题，这个数据是实际用户反馈统计出来的，非常有说服力。

## 写在最后

基于网易七鱼Agent的知识沉淀方案就介绍到这里，如果：

- 您是网易七鱼的客户，我可以提供免费的技术咨询，帮助您快速搭建类似的知识沉淀系统
- 您还不是网易七鱼的客户，欢迎体验网易七鱼智能客服以及Agent能力，我们有非常专业的团队为您保驾护航，助力您的数字化转型之路